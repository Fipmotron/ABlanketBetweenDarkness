[gd_scene load_steps=54 format=3 uid="uid://bpeo4gvj3ml0s"]

[ext_resource type="Script" path="res://Scripts/Entitys/ParentalScripts/Player.gd" id="1_dmpfv"]
[ext_resource type="Shader" path="res://Shaders/Outline.gdshader" id="1_pwtl0"]
[ext_resource type="Texture2D" uid="uid://dooblneit25se" path="res://Sprites/Entitys/SleepyChild-Sheet.png" id="2_lcsk0"]
[ext_resource type="PackedScene" uid="uid://1twoih6rtuxt" path="res://Prefabs/Components/HealthComponent.tscn" id="3_kji64"]
[ext_resource type="Texture2D" uid="uid://b2spc6a4diekk" path="res://Sprites/Other/LightTexture.png" id="5_7dfvw"]
[ext_resource type="PackedScene" uid="uid://ca8piejtr3j5o" path="res://Prefabs/Components/DamageComponent.tscn" id="5_dj1wt"]
[ext_resource type="Script" path="res://Scripts/Entitys/ComponentScripts/CheckpointDetector.gd" id="6_r2h0h"]
[ext_resource type="AudioStream" uid="uid://b0hvoaqlq0eam" path="res://Sounds/SFX/HitSFX.wav" id="8_ygxec"]
[ext_resource type="AudioStream" uid="uid://cq0l6s2dninc0" path="res://Sounds/SFX/ChildJump.wav" id="9_v28cc"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_6jbys"]
radius = 8.0
height = 26.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_1pj2m"]
shader = ExtResource("1_pwtl0")
shader_parameter/color = Color(1, 1, 1, 1)
shader_parameter/width = 1.0
shader_parameter/pattern = 0
shader_parameter/inside = false
shader_parameter/add_margins = true

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_qeq8v"]
radius = 8.0
height = 26.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_l0nrm"]
size = Vector2(24, 11)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_q6jwg"]
size = Vector2(16, 26)

[sub_resource type="Animation" id="Animation_w0l60"]
resource_name = "Block"
length = 0.9
loop_mode = 1
step = 0.15
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.15, 0.3, 0.45, 0.6, 0.75),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [12, 13, 14, 15, 16, 17]
}

[sub_resource type="Animation" id="Animation_ie6vg"]
resource_name = "BlockDown"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [8, 9, 10, 11]
}

[sub_resource type="Animation" id="Animation_5ujs8"]
resource_name = "BlockUp"
length = 0.375
step = 0.125
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.125, 0.25),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [18, 19, 20]
}

[sub_resource type="Animation" id="Animation_q3r56"]
resource_name = "Death"
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.15, 0.25, 0.35, 0.5, 0.65),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [21, 22, 23, 24, 25, 26]
}

[sub_resource type="Animation" id="Animation_dw3kd"]
resource_name = "Fall"
length = 0.3
loop_mode = 1
step = 0.15
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.15),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [29, 30]
}

[sub_resource type="Animation" id="Animation_nc1kj"]
resource_name = "Idle"
length = 0.5
loop_mode = 1
step = 0.125
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.125, 0.25, 0.375),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3]
}

[sub_resource type="Animation" id="Animation_inmoh"]
resource_name = "Jump"
length = 0.3
loop_mode = 1
step = 0.15
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.15),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [27, 28]
}

[sub_resource type="Animation" id="Animation_5oq4o"]
resource_name = "Walk"
length = 0.5
loop_mode = 1
step = 0.125
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.125, 0.25, 0.375),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [4, 5, 6, 7]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_d4lrj"]
_data = {
"Block": SubResource("Animation_w0l60"),
"BlockDown": SubResource("Animation_ie6vg"),
"BlockUp": SubResource("Animation_5ujs8"),
"Death": SubResource("Animation_q3r56"),
"Fall": SubResource("Animation_dw3kd"),
"Idle": SubResource("Animation_nc1kj"),
"Jump": SubResource("Animation_inmoh"),
"Walk": SubResource("Animation_5oq4o")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_sj307"]
animation = &"Block"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_77jhe"]
animation = &"BlockDown"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_58hrl"]
animation = &"BlockUp"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_l38qy"]
animation = &"Death"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vxxuf"]
animation = &"Fall"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_uo1y7"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_er36b"]
animation = &"Jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_boovy"]
animation = &"Walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nhj6b"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_k7avu"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_qfi2i"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4uevt"]
switch_mode = 1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_mlxec"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6fl5w"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kystd"]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xxvdn"]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ygpbg"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_n7g21"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_jkx6p"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0d3ci"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_u54np"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_je4vp"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_mqihy"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_aol0g"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_gnu2c"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_gwnsw"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_wwr1x"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_s7jja"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7qnfe"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_iqh27"]
states/Block/node = SubResource("AnimationNodeAnimation_sj307")
states/Block/position = Vector2(499, 370)
states/BlockDown/node = SubResource("AnimationNodeAnimation_77jhe")
states/BlockDown/position = Vector2(320, 370)
states/BlockUp/node = SubResource("AnimationNodeAnimation_58hrl")
states/BlockUp/position = Vector2(651, 370)
states/Death/node = SubResource("AnimationNodeAnimation_l38qy")
states/Death/position = Vector2(919, 84)
states/End/position = Vector2(1044, 84)
states/Fall/node = SubResource("AnimationNodeAnimation_vxxuf")
states/Fall/position = Vector2(487, -23)
states/Idle/node = SubResource("AnimationNodeAnimation_uo1y7")
states/Idle/position = Vector2(487, 197)
states/Jump/node = SubResource("AnimationNodeAnimation_er36b")
states/Jump/position = Vector2(487, 38)
states/Start/position = Vector2(40, 197)
states/Walk/node = SubResource("AnimationNodeAnimation_boovy")
states/Walk/position = Vector2(487, 100)
transitions = ["Start", "Idle", SubResource("AnimationNodeStateMachineTransition_nhj6b"), "Idle", "Walk", SubResource("AnimationNodeStateMachineTransition_k7avu"), "Walk", "Death", SubResource("AnimationNodeStateMachineTransition_qfi2i"), "Walk", "Idle", SubResource("AnimationNodeStateMachineTransition_4uevt"), "Idle", "BlockDown", SubResource("AnimationNodeStateMachineTransition_mlxec"), "Walk", "BlockDown", SubResource("AnimationNodeStateMachineTransition_6fl5w"), "BlockUp", "Idle", SubResource("AnimationNodeStateMachineTransition_kystd"), "BlockDown", "Block", SubResource("AnimationNodeStateMachineTransition_xxvdn"), "Block", "BlockUp", SubResource("AnimationNodeStateMachineTransition_ygpbg"), "Block", "Death", SubResource("AnimationNodeStateMachineTransition_n7g21"), "BlockUp", "Death", SubResource("AnimationNodeStateMachineTransition_jkx6p"), "BlockDown", "Death", SubResource("AnimationNodeStateMachineTransition_0d3ci"), "Idle", "Death", SubResource("AnimationNodeStateMachineTransition_u54np"), "Idle", "Jump", SubResource("AnimationNodeStateMachineTransition_je4vp"), "Jump", "Fall", SubResource("AnimationNodeStateMachineTransition_mqihy"), "Fall", "Idle", SubResource("AnimationNodeStateMachineTransition_aol0g"), "Fall", "Walk", SubResource("AnimationNodeStateMachineTransition_gnu2c"), "Walk", "Jump", SubResource("AnimationNodeStateMachineTransition_gwnsw"), "Fall", "Death", SubResource("AnimationNodeStateMachineTransition_wwr1x"), "Jump", "Death", SubResource("AnimationNodeStateMachineTransition_s7jja"), "Death", "Idle", SubResource("AnimationNodeStateMachineTransition_7qnfe")]
graph_offset = Vector2(0, 4)

[node name="Player" type="CharacterBody2D"]
collision_layer = 13
floor_constant_speed = true
script = ExtResource("1_dmpfv")
SprintSpeed = 350.0
WalkSpeed = 250.0
Jump_Force = 300.0
Gravity = 500.0
Jump_Time = 0.1
Jump_Buffer = 0.2
Cyote_Time = 0.1
Block_Time = 0.5

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -13)
shape = SubResource("CapsuleShape2D_6jbys")

[node name="Sprite2D" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_1pj2m")
position = Vector2(0, -16)
texture = ExtResource("2_lcsk0")
hframes = 35
frame = 2

[node name="HealthComponent" parent="." instance=ExtResource("3_kji64")]

[node name="CollisionShape2D" parent="HealthComponent" index="0"]
position = Vector2(0, -13)
shape = SubResource("CapsuleShape2D_qeq8v")

[node name="DamageComponent" parent="." instance=ExtResource("5_dj1wt")]
position = Vector2(0, -13)
monitorable = false
Damage = 1.0

[node name="CollisionShape2D" parent="DamageComponent" index="0"]
position = Vector2(0, 7.5)
shape = SubResource("RectangleShape2D_l0nrm")

[node name="CheckpointDetector" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 32
script = ExtResource("6_r2h0h")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CheckpointDetector"]
position = Vector2(0, -13)
shape = SubResource("RectangleShape2D_q6jwg")

[node name="PointLight2D" type="PointLight2D" parent="."]
position = Vector2(0, -13)
blend_mode = 2
range_layer_min = -100
shadow_enabled = true
texture = ExtResource("5_7dfvw")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_d4lrj")
}

[node name="AnimationTree" type="AnimationTree" parent="AnimationPlayer"]
root_node = NodePath("../..")
tree_root = SubResource("AnimationNodeStateMachine_iqh27")
anim_player = NodePath("..")

[node name="Hit" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("8_ygxec")
bus = &"SFX"

[node name="Jump" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("9_v28cc")
volume_db = -10.0
pitch_scale = 1.5
bus = &"SFX"

[connection signal="area_entered" from="CheckpointDetector" to="CheckpointDetector" method="_Entered"]

[editable path="HealthComponent"]
[editable path="DamageComponent"]
